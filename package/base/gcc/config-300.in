#!/bin/bash
# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/base/gcc/config-300.in
# ROCK Linux is Copyright (C) 1998 - 2006 Clifford Wolf
# 
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
# 
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

if pkgcheck "gcc=.*" X ; then
  menu_begin MENU_COMPILER 'GCC Compiler Options'
	bool 'Use Stack-Smashing Protector when available' \
				ROCKCFG_PKG_GCC_STACKPRO 0
	include "package/*/*/subconfig-gcc.in"
	
	for gcc_version in 2 32 33 34 40 41 42 43; do
	    if eval pkgcheck gcc=gcc${gcc_version} X; then
		comment ' '
		comment "--- gcc${gcc_version} options"
		if [[ $gcc_version -eq 2 ]] ; then
			bool 'Build CHILL compiler' \
			    ROCKCFG_PKG_GCC${gcc_version}_CHILL 1
		fi
		if [[ $gcc_version -ge 32 ]] ; then
			bool 'Build ADA compiler' \
			    ROCKCFG_PKG_GCC${gcc_version}_ADA 0
		fi
		bool 'Build C++ compiler' \
		    ROCKCFG_PKG_GCC${gcc_version}_CPP 1
		bool 'Build Fortran compiler' \
		    ROCKCFG_PKG_GCC${gcc_version}_FORTRAN 1
		bool 'Build JAVA compiler' \
		    ROCKCFG_PKG_GCC${gcc_version}_JAVA 0
		bool 'Build Objective C compiler' \
		    ROCKCFG_PKG_GCC${gcc_version}_OBJC 1
		if [[ $gcc_version -gt 40 ]] ; then
			bool 'Build Objective C++ compiler' \
		    	ROCKCFG_PKG_GCC${gcc_version}_OBJCPP 1
		fi
		include "package/*/*/subconfig-gcc${gcc_version}.in"

		if [[ $gcc_version -ge 40 ]] ; then
			bool 'Bootstrap the C compiler' \
			    ROCKCFG_PKG_GCC${gcc_version}_BOOTSTRAP 1
		fi
		x="ROCKCFG_PKG_GCC${gcc_version}_BOOTSTRAP"
		if [ "${!x}" != 0 ] ; then
			if [[ $gcc_version -ge 34 ]] ; then
				bool 'Do profiled bootstrap' \
				    ROCKCFG_PKG_GCC${gcc_version}_PROFILED 1
			fi
		fi
	    fi
	done
  menu_end
fi
