# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/base/gcc/gcc2/head-tail.patch
# ROCK Linux is Copyright (C) 1998 - 2006 Clifford Wolf
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

diff -dur gcc-2.95.3/config.guess gcc-2.95.3-p/config.guess
--- gcc-2.95.3/config.guess	2000-03-08 05:52:57.000000000 +0100
+++ gcc-2.95.3-p/config.guess	2004-11-04 16:19:16.086160368 +0100
@@ -187,7 +187,7 @@
 	echo m68k-sun-sunos${UNAME_RELEASE}
 	exit 0 ;;
     sun*:*:4.2BSD:*)
-	UNAME_RELEASE=`(head -1 /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+	UNAME_RELEASE=`(head -n1 /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
 	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
 	case "`/bin/arch`" in
 	    sun3)
diff -dur gcc-2.95.3/configure gcc-2.95.3-p/configure
--- gcc-2.95.3/configure	1999-04-02 16:17:40.000000000 +0200
+++ gcc-2.95.3-p/configure	2004-11-04 16:19:50.391945096 +0100
@@ -810,7 +810,7 @@
 s/\\\n//g
 t loop
 /^CC[ 	]*=/ s/CC[ 	]*=[ 	]*\(.*\)/\1/p' < Makefile > Makefile.cc
-  CC=`tail -1 Makefile.cc`
+  CC=`tail -n1 Makefile.cc`
   rm -f Makefile.cc
 fi
 
@@ -820,7 +820,7 @@
 s/\\\n//g
 t loop
 /^CFLAGS[ 	]*=/ s/CFLAGS[ 	]*=[ 	]*\(.*\)/\1/p' < Makefile > Makefile.cc
-  CFLAGS=`tail -1 Makefile.cc`
+  CFLAGS=`tail -n1 Makefile.cc`
   rm -f Makefile.cc
 fi
 
@@ -830,7 +830,7 @@
 s/\\\n//g
 t loop
 /^CXX[ 	]*=/ s/CXX[ 	]*=[ 	]*\(.*\)/\1/p' < Makefile > Makefile.cc
-  CXX=`tail -1 Makefile.cc`
+  CXX=`tail -n1 Makefile.cc`
   rm -f Makefile.cc
 fi
 
@@ -840,7 +840,7 @@
 s/\\\n//g
 t loop
 /^CXXFLAGS[ 	]*=/ s/CXXFLAGS[ 	]*=[ 	]*\(.*\)/\1/p' < Makefile > Makefile.cc
-  CXXFLAGS=`tail -1 Makefile.cc`
+  CXXFLAGS=`tail -n1 Makefile.cc`
   rm -f Makefile.cc
 fi
 
@@ -920,7 +920,7 @@
 t loop
 /^'"${var}"'[ 	]*=/ s/'"${var}"'[ 	]*=[ 	]*\(.*\)/\1/p' \
 	< Makefile > Makefile.v
-      t=`tail -1 Makefile.v`
+      t=`tail -n1 Makefile.v`
       if [ -n "${t}" ]; then
 	eval "${var}='${t}'"
       fi
diff -dur gcc-2.95.3/libio/dbz/Makefile.in gcc-2.95.3-p/libio/dbz/Makefile.in
--- gcc-2.95.3/libio/dbz/Makefile.in	1998-08-30 23:30:22.000000000 +0200
+++ gcc-2.95.3-p/libio/dbz/Makefile.in	2004-11-04 16:19:35.521205792 +0100
@@ -107,7 +107,7 @@
 
 stamp-r1: $(RHIST) $(R2HIST) stamp-r0
 	: crude check of synthetic history file
-	( sed 25q $(RHIST) ; tail -25 $(RHIST) ) >histjunk
+	( sed 25q $(RHIST) ; tail -n25 $(RHIST) ) >histjunk
 	cmp histjunk $(srcdir)/firstlast25
 	rm histjunk
 	@touch stamp-r1
