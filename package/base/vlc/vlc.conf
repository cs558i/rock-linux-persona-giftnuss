#!/bin/bash
# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
#
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
#
# ROCK Linux: rock-src/package/public/vlc/vlc.conf
# ROCK Linux is Copyright (C) 1998 - 2006 Clifford Wolf
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version. A copy of the GNU General Public
# License can be found at Documentation/COPYING.
#
# Many people helped and are helping developing ROCK Linux. Please
# have a look at http://www.rocklinux.org/ and the Documentation/TEAM
# file for details.
#
# --- ROCK-COPYRIGHT-NOTE-END ---

var_append extraconfopt ' ' '--enable-release'
var_append extraconfopt ' ' '--enable-loader'

pkginstalled esound && var_append extraconfopt ' ' '--enable-esd'
pkginstalled arts && var_append extraconfopt ' ' '--enable-arts'
pkginstalled jack && var_append extraconfopt ' ' '--enable-jack'
pkginstalled qt4 || var_append extraconfopt '--disable-qt4 --disable-skins2'

var_append extraconfopt ' ' '--enable-pvr'
var_append extraconfopt ' ' '--enable-v4l'
var_append extraconfopt ' ' '--enable-dvb'

# Fixes errors like this:
# libvlc.c: In function 'libvlc_InternalCleanup':
# libvlc.c:1002: error: 'for' loop initial declaration used outside C99 mode
var_append CC_WRAPPER_APPEND " " "-std=gnu99"

# Fixes 'ld: cannot find -lX11' errors
var_append CC_WRAPPER_INSERT " " "-L/usr/X11/lib/"
var_append CXX_WRAPPER_INSERT " " "-L/usr/X11/lib/"

# pkginstalled mozilla || pkginstalled firefox && \
#     var_append extraconfopt ' ' '--enable-mozilla'
# pkginstalled firefox && hook_add preconf 3 \
#     'export ac_cv_path_MOZILLA_CONFIG="$root/usr/bin/firefox-config" ; \
#      export ac_cv_path_XPIDL="$root/usr/lib/firefox-`$ac_cv_path_MOZILLA_CONFIG --version`/xpidl" ; \
#      var_append makeinstopt " " "npvlcdir=$root/usr/lib/firefox-`$ac_cv_path_MOZILLA_CONFIG --version`/plugins"'

